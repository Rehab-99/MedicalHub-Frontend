<div class="add-post-container">
  <h2>Add New Post</h2>
  <form [formGroup]="addPostForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="post-title">Post Title</label>
      <input
        id="post-title"
        formControlName="title"
        type="text"
        placeholder="Enter post title"
      >
    </div>

    <div class="form-group">
      <label for="post-content">Post Content</label>
      <div class="editor-toolbar">
        <button type="button" (click)="formatText('bold')">Bold</button>
        <button type="button" (click)="formatText('italic')">Italic</button>
        <button type="button" (click)="formatText('underline')">Underline</button>
        <select (change)="onFontSizeChange($event)">
          <option value="">Font Size</option>
          <option value="1">10px</option>
          <option value="2">12px</option>
          <option value="3">16px</option>
          <option value="4">20px</option>
          <option value="5">24px</option>
        </select>
        <input type="color" (change)="onColorChange($event)" title="Font Color">
        <button type="button" (click)="formatText('justifyLeft')">Align Left</button>
        <button type="button" (click)="formatText('justifyCenter')">Align Center</button>
        <button type="button" (click)="formatText('justifyRight')">Align Right</button>
        <input type="file" accept="image/*" (change)="insertImage($event)" id="insert-image" style="display: none;">
        <button type="button" (click)="triggerInsertImage()">Insert Image</button>
      </div>
      <div
        id="post-content-editor"
        class="editor-content"
        contenteditable="true"
        (input)="updateContent()"
        placeholder="Enter post content here..."
      ></div>
    </div>

    <div class="form-group">
      <label for="post-image">Post Image (Optional)</label>
      <input
        id="post-image"
        type="file"
        accept="image/*"
        (change)="onPostImageChange($event)"
      >
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="isSubmitting">
        {{ isSubmitting ? 'Submitting...' : 'Add Post' }}
      </button>
      <button type="button" (click)="cancel()">
        Cancel
      </button>
    </div>

    <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>