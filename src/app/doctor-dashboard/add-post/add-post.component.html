<div class="add-post-container">
    <h2><i class="fas fa-plus-circle"></i> Add New Post</h2>
    <form [formGroup]="addPostForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="post-title"><i class="fas fa-heading"></i> Post Title</label>
        <input
          id="post-title"
          formControlName="title"
          type="text"
          placeholder="Enter post title"
        >
      </div>
  
      <div class="form-group">
        <label for="post-content"><i class="fas fa-paragraph"></i> Post Content</label>
        <textarea
          id="post-content"
          formControlName="content"
          placeholder="Enter post content"
        ></textarea>
      </div>
  
      <div class="form-group">
        <label for="post-image"><i class="fas fa-image"></i> Post Image (Optional)</label>
        <input
          id="post-image"
          type="file"
          accept="image/*"
          (change)="onPostImageChange($event)"
        >
      </div>
  
      <div formArrayName="sections">
        <div *ngFor="let section of sections.controls; let i=index" [formGroupName]="i" class="section">
          <div class="section-header">
            <h3><i class="fas fa-layer-group"></i> Section {{ i + 1 }}</h3>
            <button type="button" class="remove-section" (click)="removeSection(i)">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
  
          <div class="form-group">
            <label for="section-title-{{i}}"><i class="fas fa-heading"></i> Section Title</label>
            <input
              id="section-title-{{i}}"
              formControlName="title"
              type="text"
              placeholder="Enter section title"
            >
          </div>
  
          <div class="form-group">
            <label for="section-content-{{i}}"><i class="fas fa-paragraph"></i> Section Content</label>
            <textarea
              id="section-content-{{i}}"
              formControlName="content"
              placeholder="Enter section content"
            ></textarea>
          </div>
  
          <div class="form-group">
            <label for="section-image-{{i}}"><i class="fas fa-image"></i> Section Image (Optional)</label>
            <input
              id="section-image-{{i}}"
              type="file"
              accept="image/*"
              (change)="onSectionImageChange($event, i)"
            >
          </div>
        </div>
        <button type="button" class="add-section" (click)="addSection()">
          <i class="fas fa-plus"></i> Add Section
        </button>
      </div>
  
      <div class="form-actions">
        <button type="submit" [disabled]="isSubmitting">
          <i class="fas fa-check"></i> {{ isSubmitting ? 'Submitting...' : 'Add Post' }}
        </button>
        <button type="button" (click)="cancel()">
          <i class="fas fa-times"></i> Cancel
        </button>
      </div>
  
      <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
    </form>
  </div>