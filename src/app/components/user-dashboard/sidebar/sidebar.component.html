<!-- Sidebar HTML -->
<aside class="sidebar">
    <div class="logo">
        <a routerLink="/">
            <i class="fas fa-heartbeat logo-icon"></i>
            <span>MedicalHub</span>
        </a>
    </div>

    <div class="doctor-profile-sidebar" *ngIf="doctor">
        <img [src]="getImageUrl(doctor?.image)" [alt]="doctor?.name" class="doctor-avatar-sidebar">
        <div class="doctor-info-sidebar">
            <h4>{{ doctor?.name }}</h4>
            <p class="doctor-specialty-sidebar">{{ doctor?.specialization }}</p>
            <button class="chat-button" (click)="startChat()">
                <i class="fas fa-comments"></i> Start Chat
            </button>
        </div>
    </div>

    <nav class="sidebar-nav">
        <ul>
            <li [class.active]="isActive('/user/dashboard')">
                <a routerLink="/user/dashboard"><i class="fas fa-user-injured"></i> Patient</a>
            </li>

            <li [class.active]="isActive('/user/dashboard/cart')">
                <a routerLink="/user/dashboard/cart"><i class="fas fa-shopping-cart"></i> Shopping Cart</a>
            </li>
           
            <li [class.active]="isActive('/user/dashboard/settings')">
                <a routerLink="/user/dashboard/settings"><i class="fas fa-cog"></i> Settings</a>
            </li>
            <li [class.active]="isActive('/user/dashboard/settings')">
                <a routerLink="/feedback"><i class="fas fa-comment-dots"></i> Feedback</a>
            </li>
        </ul>
    </nav>

    <div class="membership-info">
        <p><strong>20 Days Left</strong></p>
        <p><small>Extend your membership</small></p>
        <button class="btn btn-renew">Create New</button>
    </div>
</aside>

<app-chat-window 
    *ngIf="showChatWindow && doctor" 
    [doctorId]="doctor.id"
    [doctorName]="doctor.name"
    (closeChat)="closeChat()">
</app-chat-window> 