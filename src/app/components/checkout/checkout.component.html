<div class="checkout-container">
  <h2>Checkout</h2>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Processing your order...</p>
  </div>

  <!-- Cart Summary -->
  <div class="cart-summary" *ngIf="cartItems.length > 0">
    <h3>Order Summary</h3>
    <div class="cart-items">
      <div *ngFor="let item of cartItems" class="cart-item">
        <span class="item-name">Product ID: {{item.product_id}}</span>
        <span class="item-quantity">Quantity: {{item.quantity}}</span>
        <span class="item-price">Price: {{item.price | currency:'EGP':'symbol':'1.2-2'}}</span>
      </div>
    </div>
    <div class="total-amount">
      <strong>Total: {{totalAmount | currency:'EGP':'symbol':'1.2-2'}}</strong>
    </div>
  </div>

  <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">
    <!-- Payment Method -->
    <div class="payment-method">
      <h3>Payment Method</h3>
      <select formControlName="payment_method">
        <option value="cash">Cash on Delivery</option>
        <option value="card">Credit Card</option>
      </select>
    </div>

    <!-- Billing Address -->
    <div class="address-section">
      <h3>Billing Address</h3>
      <div formGroupName="addr">
        <div formGroupName="billing">
          <div class="form-row">
            <input type="text" formControlName="firstName" placeholder="First Name">
            <input type="text" formControlName="lastName" placeholder="Last Name">
          </div>
          <div class="form-row">
            <input type="email" formControlName="email" placeholder="Email">
            <input type="text" formControlName="phoneNumber" placeholder="Phone Number">
          </div>
          <div class="form-row">
            <input type="text" formControlName="address" placeholder="Address">
          </div>
          <div class="form-row">
            <input type="text" formControlName="city" placeholder="City">
            <input type="text" formControlName="postCode" placeholder="Post Code">
          </div>
          <div class="form-row">
            <select formControlName="country">
              <option value="">Select Country</option>
              <option value="Egypt">Egypt</option>
            </select>
            <input type="text" formControlName="state" placeholder="State">
          </div>
        </div>
      </div>
    </div>

    <!-- Shipping Address -->
    <div class="address-section">
      <h3>Shipping Address</h3>
      <div formGroupName="addr">
        <div formGroupName="shipping">
          <div class="form-row">
            <input type="text" formControlName="firstName" placeholder="First Name">
            <input type="text" formControlName="lastName" placeholder="Last Name">
          </div>
          <div class="form-row">
            <input type="email" formControlName="email" placeholder="Email">
            <input type="text" formControlName="phoneNumber" placeholder="Phone Number">
          </div>
          <div class="form-row">
            <input type="text" formControlName="address" placeholder="Address">
          </div>
          <div class="form-row">
            <input type="text" formControlName="city" placeholder="City">
            <input type="text" formControlName="postCode" placeholder="Post Code">
          </div>
          <div class="form-row">
            <select formControlName="country">
              <option value="">Select Country</option>
              <option value="Egypt">Egypt</option>
            </select>
            <input type="text" formControlName="state" placeholder="State">
          </div>
        </div>
      </div>
    </div>

    <div class="submit-section">
      <button type="submit" [disabled]="isLoading || !checkoutForm.valid">
        Place Order
      </button>
    </div>
  </form>
</div>
  